<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset=utf-8 />
  <title>CommandManager.js</title>
  <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
  <style>
    body {
      padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
    }
  </style>
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="#">CommandManager.js</a>
      </div>
    </div>
  </div>
  <div class="container">
    <button id="addText" class="btn">Add text</button>
    <button id="redo" class="btn">Redo</button>
    <button id="undo" class="btn">Undo</button>
    <div style="margin:1em 0;">
      <pre id="text"></pre>
    </div>
  </div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script src="../CommandManager.js"></script>
  <script type="text/javascript">
  $(function(){
    var id = 0;
    $("#addText").click(function(){
        id++;
        CommandManager.execute({
          execute: function(){
            this.newid = id;
            $("#text").append("text from command " + this.newid+"\n");
          },
          unexecute: function(){
            var html =$("#text").html().replace("text from command " + this.newid+"\n", "");
            $("#text").html(html);
          }
        });
    });

    $("#redo").click(function(){
      CommandManager.redo();
    });

    $("#undo").click(function(){
      CommandManager.undo();
    });
  });
  </script>
</body>
</html>